(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{29318:function(e,t,n){Promise.resolve().then(n.bind(n,86594)),Promise.resolve().then(n.bind(n,25636)),Promise.resolve().then(n.bind(n,10912)),Promise.resolve().then(n.bind(n,61481)),Promise.resolve().then(n.bind(n,13024)),Promise.resolve().then(n.bind(n,71767)),Promise.resolve().then(n.bind(n,65381)),Promise.resolve().then(n.bind(n,99966)),Promise.resolve().then(n.bind(n,47190)),Promise.resolve().then(n.bind(n,58700)),Promise.resolve().then(n.bind(n,65870)),Promise.resolve().then(n.bind(n,80672)),Promise.resolve().then(n.bind(n,88830)),Promise.resolve().then(n.bind(n,72856)),Promise.resolve().then(n.bind(n,47254)),Promise.resolve().then(n.bind(n,42089)),Promise.resolve().then(n.bind(n,58445)),Promise.resolve().then(n.bind(n,85117)),Promise.resolve().then(n.bind(n,50552)),Promise.resolve().then(n.bind(n,99948)),Promise.resolve().then(n.t.bind(n,65251,23))},86594:function(e,t,n){"use strict";n.d(t,{ConfigProvider:function(){return s.ZP}});var s=n(73896)},78389:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});let s=(0,n(45040).io)({path:"/api/ws",reconnection:!0,reconnectionAttempts:5,reconnectionDelay:5e3,timeout:35e3,transports:["websocket"]})},13024:function(e,t,n){"use strict";var s=n(57437),i=n(37540),a=n(16463),l=n(2265);t.default=e=>{let[t]=(0,l.useState)(()=>(0,i.Df)()),n=(0,l.useRef)("");return(0,a.useServerInsertedHTML)(()=>{let e=(0,i.EN)(t,{plain:!0});return n.current===e?null:(n.current=e,(0,s.jsx)("style",{id:"antd-cssinjs","data-rc-order":"prepend","data-rc-priority":"-1000",dangerouslySetInnerHTML:{__html:e}}))}),(0,s.jsx)(i.V9,{...e,cache:t})}},71767:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var s=n(57437),i=n(46512),a=n(62737),l=n.n(a),r=n(2265),c=n(21661),o=n(71524),d=n(95889),u=n(65870),h=n(50552),m=e=>{let{book:t,authorName:n,genreName:i,priority:a,swap:r=!1,noHTag:c=!1}=e;return(0,s.jsx)("article",{className:"min-h-[128px]",children:(0,s.jsxs)(h.TransitionLink,{className:"flex items-center gap-2 ".concat(r?"flex-row-reverse":""),href:"/truyen/".concat(t.slug),children:[(0,s.jsx)(u.ImageWithFallback,{className:"h-32 w-24 rounded shadow-xl",src:"https://".concat("cdn.qidian-vp.com","/poster/").concat(t.slug,"-150.jpg"),width:96,height:128,alt:"Image of ".concat(t.title),priority:a,loading:a?"eager":"lazy"}),(0,s.jsxs)("div",{className:"flex min-h-full grow flex-col gap-1",children:[c?(0,s.jsx)("div",{className:"font-bold",children:(0,o.BW)(t.title)}):(0,s.jsx)("h3",{className:"font-bold",children:(0,o.BW)(t.title)}),(0,s.jsx)("div",{className:"mb-auto line-clamp-2 whitespace-pre-wrap text-gray-400",children:(0,o.BW)(t.description)}),(0,s.jsxs)("div",{className:"flex justify-between text-gray-400",children:[(0,s.jsx)("div",{children:l()().diff(l()(t.updatedAt),"day")>0?l()(t.updatedAt).add(7,"hour").format("MM/DD/YYYY HH:mm"):(0,d.KI)(t.updatedAt)}),(0,s.jsxs)("div",{children:[t.lastIndex," chương"]})]}),c?(0,s.jsxs)("div",{className:"flex justify-between text-gray-400",children:[n&&(0,s.jsx)("div",{children:n}),i&&(0,s.jsx)("div",{className:"text-red-400",children:i})]}):(0,s.jsxs)("div",{className:"flex justify-between text-gray-400",children:[n&&(0,s.jsx)("h4",{children:n}),i&&(0,s.jsx)("h4",{className:"text-red-400",children:i})]})]})]},t.id)})};function f(){var e,t;let[n,a]=(0,r.useState)(),o=(0,r.useRef)(null);return(0,r.useEffect)(()=>{c.Z.get("/book-recommendation").then(e=>{if(e.data.success){let{book:t}=e.data;t.updatedAt=l()(t.updatedAt).add(7,"hours").toISOString(),a(t)}})},[]),(0,s.jsxs)("div",{ref:o,className:"mb-6 grid grid-cols-1 lg:px-0",children:[(0,s.jsx)("b",{className:"pb-2 ps-2",children:"Gợi \xfd"}),n?(0,s.jsx)(m,{book:n,authorName:null===(e=n.author)||void 0===e?void 0:e.name,genreName:null===(t=n.genre)||void 0===t?void 0:t.name,noHTag:!0}):(0,s.jsx)(i.Z,{paragraph:{rows:3},className:"h-[128px]"})]})}},65381:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(57437),i=n(61822),a=n(87138);function l(){let e=window.location.href.replace(window.location.host,"qidian-vp.com");return(0,s.jsx)(i.default,{open:!0,onCancel:()=>{window.location.href=e},footer:null,centered:!0,closeIcon:null,children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-5",children:["Bạn đang truy cập địa chỉ phụ của Qidian-VP.com. Vui l\xf2ng sử dụng địa chỉ n\xe0y để truy cập v\xe0o trang web.",(0,s.jsx)(a.default,{href:e,className:"text-lg font-bold text-rose-500",children:">>> Qidian-VP.com <<<"})]})})}},99966:function(e,t,n){"use strict";var s=n(57437),i=n(87138),a=n(65870);let l=[{name:"Đ\xf4 Thị",href:"/the-loai/do-thi"},{name:"Huyền Huyễn",href:"/the-loai/huyen-huyen"},{name:"Đồng Nh\xe2n",href:"/the-loai/dong-nhan"},{name:"Ti\xean Hiệp",href:"/the-loai/tien-hiep"},{name:"V\xf5ng Du",href:"/the-loai/vong-du"},{name:"Kiếm Hiệp",href:"/the-loai/kiem-hiep"},{name:"Huyền Nghi",href:"/the-loai/huyen-nghi"},{name:"Light Novel",href:"/the-loai/light-novel"},{name:"Cạnh Kỹ",href:"/the-loai/canh-ky"},{name:"Huyền Huyễn Ng\xf4n T\xecnh",href:"/the-loai/huyen-huyen-ngon-tinh"}];t.default=()=>(0,s.jsxs)("footer",{className:"absolute inset-x-0 top-full mx-auto mt-5 max-w-screen-lg border-t p-5 text-center text-gray-400 ",children:[(0,s.jsxs)("div",{className:"mt-3 flex w-full items-center justify-center",children:[(0,s.jsx)("a",{href:"https://www.facebook.com/qidian.vp",target:"_blank","aria-label":'Facebook "Qidian-Vietpharse"',dangerouslySetInnerHTML:{__html:'<svg height="32" width="32" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" version="1.1" viewbox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:serif="http://www.serif.com/" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M512,256c0,-141.385 -114.615,-256 -256,-256c-141.385,0 -256,114.615 -256,256c0,127.777 93.616,233.685 216,252.89l0,-178.89l-65,0l0,-74l65,0l0,-56.4c0,-64.16 38.219,-99.6 96.695,-99.6c28.009,0 57.305,5 57.305,5l0,63l-32.281,0c-31.801,0 -41.719,19.733 -41.719,39.978l0,48.022l71,0l-11.35,74l-59.65,0l0,178.89c122.385,-19.205 216,-125.113 216,-252.89Z" style="fill:#1877f2;fill-rule:nonzero;"/><path d="M355.65,330l11.35,-74l-71,0l0,-48.022c0,-20.245 9.917,-39.978 41.719,-39.978l32.281,0l0,-63c0,0 -29.297,-5 -57.305,-5c-58.476,0 -96.695,35.44 -96.695,99.6l0,56.4l-65,0l0,74l65,0l0,178.89c13.033,2.045 26.392,3.11 40,3.11c13.608,0 26.966,-1.065 40,-3.11l0,-178.89l59.65,0Z" style="fill:#fff;fill-rule:nonzero;"/></path></path></g></svg>'}}),(0,s.jsx)("a",{href:"https://chromewebstore.google.com/detail/qidian-vp-helper/hiiggoekhkmfihocilhdefmaddibbllp",className:"ms-3",target:"_blank","aria-label":'Chrome "Qidian-VP Helper"',dangerouslySetInnerHTML:{__html:'<svg height="32" width="32" enable-background="new 0 0 128 128" id="Social_Icons" version="1.1" viewbox="0 0 128 128" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="_x34__stroke"><g id="Google_Chrome"><rect clip-rule="evenodd" fill="none" fill-rule="evenodd" height="128" width="128"/><g id="Google_Chrome_1_"><path clip-rule="evenodd" d="M15.454,22.297c29.752-34.626,84.917-27.791,105.54,12.656     c-14.517,0.005-37.25-0.004-49.562,0c-8.93,0.003-14.695-0.2-20.939,3.087c-7.34,3.864-12.879,11.026-14.812,19.439     L15.454,22.297z" fill="#EA4335" fill-rule="evenodd"/><path clip-rule="evenodd" d="M42.708,63.998c0,11.735,9.542,21.283,21.271,21.283     c11.728,0,21.27-9.547,21.27-21.283c0-11.735-9.542-21.283-21.27-21.283C52.25,42.715,42.708,52.263,42.708,63.998z" fill="#4285F4" fill-rule="evenodd"/><path clip-rule="evenodd" d="M72.234,91.855c-11.939,3.548-25.91-0.387-33.563-13.597     C32.829,68.175,17.394,41.286,10.379,29.06c-24.57,37.659-3.394,88.978,41.212,97.737L72.234,91.855z" fill="#34A853" fill-rule="evenodd"/><path clip-rule="evenodd" d="M83.737,42.715c9.944,9.248,12.11,24.224,5.374,35.836     c-5.075,8.749-21.271,36.085-29.121,49.322c45.958,2.833,79.461-42.209,64.328-85.158H83.737z" fill="#FBBC05" fill-rule="evenodd"/></path></path></path></path></g></rect></g></g></svg>'}}),(0,s.jsx)("a",{href:"https://www.youtube.com/channel/UCpjZaLv38bh6o0RacOuftAA",className:"ms-3",target:"_blank","aria-label":'Youtube "Qidian-Vietpharse"',dangerouslySetInnerHTML:{__html:'<svg height="32" width="32" id="Layer_1" style="enable-background:new 0 0 64.002 63.996;" version="1.1" viewbox="0 0 64.002 63.996" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Shape_57_"><g><circle cx="32.001" cy="31.998" r="31.998" style="fill:#ED7161;"/></circle></g></g><g id="YouTube_Logo"><g><path d="M37.925,25.993c0.354,0,0.72-0.204,1.096-0.409    c0.379-0.208,0.742-0.511,1.088-0.907v1.077h1.89v-9.728h-1.89v7.385c-0.176,0.211-0.371,0.385-0.581,0.521    c-0.215,0.137-0.391,0.205-0.529,0.205c-0.177,0-0.307-0.051-0.384-0.156c-0.078-0.103-0.122-0.268-0.122-0.496v-7.459h-1.887    v8.13c0,0.58,0.111,1.013,0.331,1.3C37.159,25.749,37.486,25.993,37.925,25.993z M31.229,25.999c1.013,0,1.807-0.322,2.386-0.779    c0.575-0.459,0.863-1.088,0.863-1.891v-4.851c0-0.716-0.295-1.304-0.88-1.759c-0.591-0.451-1.346-0.68-2.269-0.68    c-1.012,0-1.819,0.216-2.418,0.646c-0.599,0.432-0.898,1.008-0.898,1.738v4.867c0,0.8,0.293,1.432,0.876,1.905    C29.474,25.668,30.255,25.999,31.229,25.999z M30.172,18.657c0-0.184,0.095-0.332,0.283-0.449c0.193-0.113,0.44-0.168,0.745-0.168    c0.331,0,0.599,0.055,0.803,0.168c0.203,0.117,0.306,0.266,0.306,0.449v4.611c0,0.228-0.102,0.406-0.301,0.537    c-0.2,0.13-0.469,0.193-0.808,0.193c-0.33,0-0.585-0.062-0.763-0.191c-0.177-0.128-0.266-0.306-0.266-0.539V18.657z M22.845,26.02    h2.387v-5.812l2.778-8.2h-2.425l-1.478,5.602h-0.15l-1.551-5.602h-2.403l2.842,8.462V26.02z M43.422,30.014H20.58    c-3.631,0-6.574,2.83-6.574,6.315v5.342c0,3.487,2.943,6.316,6.574,6.316h22.842c3.63,0,6.574-2.829,6.574-6.316v-5.342    C49.996,32.844,47.052,30.014,43.422,30.014z M23.98,35.433h-2.021v8.363h-1.953v-8.363h-2.021v-1.424h5.996V35.433z     M30.006,43.913H27.9v-0.865c-0.392,0.319-0.795,0.564-1.217,0.729c-0.42,0.172-0.827,0.253-1.224,0.253    c-0.488,0-0.852-0.117-1.101-0.354c-0.244-0.234-0.369-0.586-0.369-1.059v-6.603h2.105v6.06c0,0.188,0.046,0.32,0.13,0.404    c0.092,0.086,0.237,0.125,0.435,0.125c0.151,0,0.35-0.055,0.586-0.165c0.239-0.111,0.456-0.253,0.654-0.424v-6h2.105V43.913z     M37.979,42.41c0,0.517-0.163,0.913-0.489,1.19c-0.323,0.276-0.798,0.413-1.413,0.413c-0.409,0-0.772-0.052-1.089-0.16    c-0.318-0.104-0.617-0.269-0.89-0.495v0.562h-2.103v-9.911h2.103V37.2c0.282-0.221,0.581-0.391,0.892-0.507    c0.318-0.117,0.638-0.173,0.961-0.173c0.658,0,1.16,0.153,1.507,0.464c0.349,0.313,0.521,0.77,0.521,1.367V42.41z M45.993,40.181    h-3.882v1.427c0,0.398,0.064,0.674,0.197,0.83c0.136,0.154,0.365,0.23,0.688,0.23c0.339,0,0.572-0.065,0.707-0.196    c0.132-0.133,0.202-0.419,0.202-0.864v-0.345h2.088v0.389c0,0.775-0.253,1.361-0.767,1.756c-0.505,0.391-1.265,0.584-2.276,0.584    c-0.909,0-1.627-0.206-2.147-0.623c-0.521-0.412-0.785-0.987-0.785-1.717v-3.403c0-0.654,0.289-1.192,0.864-1.604    c0.574-0.415,1.312-0.62,2.222-0.62c0.929,0,1.643,0.19,2.142,0.573c0.499,0.385,0.748,0.934,0.748,1.651V40.181z M34.969,37.681    c-0.148,0-0.297,0.023-0.441,0.071c-0.146,0.046-0.288,0.124-0.43,0.223v4.555c0.168,0.119,0.333,0.209,0.493,0.261    c0.161,0.05,0.326,0.078,0.503,0.078c0.255,0,0.441-0.051,0.562-0.156c0.118-0.103,0.179-0.271,0.179-0.502v-3.777    c0-0.248-0.07-0.435-0.217-0.562C35.465,37.745,35.248,37.681,34.969,37.681z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;"/></path></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></g></g></g></g></g></g></g></g></g></g></g></g></g></g></g></svg>'}}),(0,s.jsx)("a",{href:"https://www.tiktok.com/@qidian.vp",target:"_blank","aria-label":'Tiktok "Qidian-Vietpharse"',className:"ms-3",dangerouslySetInnerHTML:{__html:'<svg  height="32" width="32" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" version="1.1" viewbox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xodm="http://www.corel.com/coreldraw/odm/2003"><defs><style type="text/css">\n            <![CDATA[\n              .fil0 {fill:black}\n            ]]>\n            </style></defs><g id="Layer_x0020_1"><path className="fil0" d="M256 0c141.39,0 256,114.61 256,256 0,141.39 -114.61,256 -256,256 -141.39,0 -256,-114.61 -256,-256 0,-141.39 114.61,-256 256,-256zm57.5 106.01c0.01,4.58 1.36,70.83 70.87,74.96 0,19.1 0.02,32.95 0.02,51.18 -5.26,0.3 -45.76,-2.64 -70.97,-25.12l-0.08 99.64c0.96,69.16 -49.93,111.24 -116.46,96.7 -114.71,-34.31 -76.59,-204.44 38.59,-186.24 0,54.93 0.03,-0.01 0.03,54.93 -47.58,-7 -63.5,32.58 -50.85,60.93 11.5,25.8 58.88,31.39 75.41,-5.01 1.87,-7.12 2.8,-15.25 2.8,-24.37l0 -197.85 50.64 0.25z"/></path></g></svg>'}})]}),(0,s.jsxs)("h2",{className:"mt-3 text-center",children:["Truyện Chữ Hay Nhất & Game Tu Ti\xean Miễn Ph\xed tại"," ",(0,s.jsx)("strong",{children:"Qidian-VP"})]}),(0,s.jsxs)("h3",{className:"text-center",children:[(0,s.jsx)("strong",{children:"Qidian-VP"})," l\xe0 nền tảng mở trực tuyến, miễn ph\xed đọc truyện chữ, truyện convert hay dịch chuẩn nhất, truyện hay, vietphrase, vp được đ\xf3ng g\xf3p nội dung từ c\xe1c t\xe1c giả viết truyện v\xe0 c\xe1c dịch giả convert, dịch truyện, rất nhiều truyện hay v\xe0 nổi bật được cập nhật nhanh nhất với đủ c\xe1c thể loại ti\xean hiệp, kiếm hiệp, huyền ảo ..."," "]}),(0,s.jsxs)("h3",{className:"mt-3 text-center",children:["B\xean cạnh đ\xf3, bạn cũng c\xf3 thể tham gia ",(0,s.jsx)("strong",{children:"hệ thống tu luyện"})," ","để đạp v\xe0o ti\xean lộ: Lịch Luyện, Luận Đạo, Tụ Bảo Trai, Chinh Phạt, B\xe1i Thi\xean, Đột Ph\xe1, Ho\xe1n Mệnh,....."]}),(0,s.jsx)(a.ImageWithFallback,{className:"mx-auto my-2 size-12",width:40,height:40,src:"https://".concat("cdn.qidian-vp.com","/assets/logo.png"),alt:"Qidian-VP truyện chữ, truyện convert hay dịch chuẩn nhất, đọc truyện online, ti\xean hiệp, huyền huyễn",loading:"lazy"}),(0,s.jsxs)("div",{className:"flex flex-col space-y-2 sm:flex-row sm:justify-center sm:space-x-6 sm:space-y-0",children:[(0,s.jsx)("a",{href:"".concat("https://qidian-vp.com","/thong-tin/dieu-khoan-dich-vu"),target:"_blank",children:"Điều khoản dịch vụ"}),(0,s.jsx)("a",{href:"".concat("https://qidian-vp.com","/thong-tin/chinh-sach-bao-mat"),target:"_blank",children:"Ch\xednh s\xe1ch bảo mật"}),(0,s.jsx)("a",{href:"".concat("https://qidian-vp.com","/thong-tin/ve-ban-quyen"),target:"_blank",children:"Về bản quyền"}),(0,s.jsx)("a",{href:"".concat("https://qidian-vp.com","/thong-tin/tu-tien-thuong-thuc"),target:"_blank",children:"Tu ti\xean thường thức"}),(0,s.jsx)("a",{href:"https://qidianvp.blob.core.windows.net/tien-vuc/gioi-thieu-qidian-vp.html",target:"_blank","aria-label":"Blog Giới thiệu Qidian-VP",children:"Giới thiệu Qidian-VP"})]}),(0,s.jsx)("h2",{className:"mt-3 text-center",children:"Thể loại"}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:l.map(e=>(0,s.jsx)(i.default,{href:e.href,children:e.name},e.name))})]})},47190:function(e,t,n){"use strict";var s=n(57437),i=n(9881);t.default=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.GoogleAnalytics,{gaId:"G-6PW9CZGZC4"}),(0,s.jsx)(i.GoogleTagManager,{gtmId:"GTM-NFFFRK22"})]})},58700:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var s=n(57437),i=n(8001),a=n(57834),l=n(98169),r=n(53803),c=n(69358),o=n(62611),d=n(25325),u=n(18427),h=n(16463),m=n(30998),f=n(2265),g=n(94876),p=n(40904),x=n(68560),v=n(57818),y=n(78389),b=n(21661),w=n(2857),j={enable:()=>{document.body.style.overflow="hidden",document.body.style.width="100%",document.body.style.height="100%"},disable:()=>{document.body.style.overflow="",document.body.style.width="",document.body.style.height=""}};let N=(0,v.default)(()=>Promise.all([n.e(2744),n.e(2010),n.e(8158),n.e(9108),n.e(38),n.e(1423),n.e(2943),n.e(7149),n.e(5783),n.e(8388),n.e(3390),n.e(359),n.e(9968),n.e(13)]).then(n.bind(n,13)),{loadableGenerated:{webpack:()=>[13]},ssr:!1,loading:()=>(0,s.jsx)(w.Z,{})});var k=()=>{let{data:e}=(0,p.CG)(e=>e.me),[t,n]=(0,f.useState)(!1),[i,a]=(0,f.useState)(!1),[l,c]=(0,f.useState)([]),d=(0,f.useRef)(null),[h,m]=(0,f.useState)(!1),g=(0,f.useRef)(!1),v=(0,f.useRef)(i);v.current=i;let[w,k]=(0,f.useState)("left"),[C,P]=(0,f.useState)(378),[S,T]=(0,f.useState)(),E=(0,f.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(()=>{d.current&&d.current.scrollTo({top:d.current.scrollHeight,behavior:"smooth"})},e)},[]);return(0,f.useEffect)(()=>{i?("top"===w&&j.enable(),n(!1),E(1e3)):j.disable()},[i,E,w]),(0,f.useEffect)(()=>{let e=()=>{if(i){let e=window.innerWidth<1602;k(e?"top":"left"),P(Math.max(window.innerWidth-1024-200,378)),document.body.style.paddingLeft="".concat(Math.max(window.innerWidth-1024-200,0),"px"),e?j.enable():j.disable()}else document.body.style.paddingLeft="0px"};return e(),window.addEventListener("resize",e),i&&b.Z.get("/global-comments-pin?timestamp=".concat(Date.now())).then(e=>{T(e.data)}),()=>window.removeEventListener("resize",e)},[i]),(0,f.useEffect)(()=>(y.W.off("comment"),y.W.off("update-comment"),y.W.off("delete-comment"),y.W.off("update-bad-user"),y.W.on("comment",e=>{if(c(t=>t.find(t=>t.id===e.id)?t:t.length>30?[...t.slice(1),e]:[...t,e]),d.current){let{scrollHeight:e,scrollTop:t,clientHeight:n}=d.current;e-t-n<100&&E(500)}v.current||n(!0)}),y.W.on("update-comment",e=>{let{comment:t,type:n}=e;"replace"===n?c(e=>e.map(e=>e.id===t.id?t:e)):c(e=>e.map(e=>e.id===t.id?{...e,...t}:e))}),y.W.on("delete-comment",e=>{c(t=>t.filter(t=>t.id!==e))}),y.W.on("update-bad-user",e=>{let{userId:t,isBad:n}=e;return c(e=>e.map(e=>{var s;return(null===(s=e.user)||void 0===s?void 0:s.id)===t?{...e,user:{...e.user,isBad:n}}:e}))}),()=>{y.W.off("comment"),y.W.off("update-comment"),y.W.off("delete-comment"),y.W.off("update-bad-user")}),[null==e?void 0:e.id]),(0,s.jsxs)("div",{className:"relative",children:[t&&(!e||!e.disabledNotification)&&(0,s.jsx)("div",{className:"absolute right-[-4px] top-[-4px] z-10 size-3 animate-ping rounded-full bg-rose-500"}),(0,s.jsx)(o.ZP,{onClick:()=>a(e=>!e),className:"!border-none !p-0",children:(0,s.jsx)(x.Z,{className:"text-[24px]"})}),(0,s.jsx)(u.Z,{onClose:()=>a(!1),open:i,title:(0,s.jsx)("div",{children:(0,s.jsxs)("div",{children:["Chat & B\xecnh luận",S&&(0,s.jsx)("div",{className:"text-xs text-rose-500",dangerouslySetInnerHTML:{__html:S}})]})}),className:"!bg-zinc-800",placement:w,maskClosable:"top"===w,mask:"top"===w,getContainer:()=>document.body,width:C,closeIcon:(0,s.jsx)(r.Z,{className:"cursor-pointer text-2xl",onClick:()=>a(!1)}),height:"100dvh",rootClassName:"max-h-100vh",styles:{header:{padding:4},body:{paddingRight:0,paddingLeft:16,paddingTop:4,paddingBottom:4}},children:(0,s.jsx)(N,{isInited:g,messageBoxRef:d,loading:h,setLoading:m,messages:l,setMesssages:c,setIsOpen:a,scrollToBottom:E})})]})},C=n(65870),P=n(16311),S=()=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"flex items-center space-x-2",children:(0,s.jsx)(P.KI,{href:"/danh-sach",title:"Lọc truyện",className:"font-semibold text-gray-100",children:"Danh s\xe1ch truyện"})}),(0,s.jsx)("div",{className:"mx-5",children:(0,s.jsxs)("ul",{className:"divide-auto list-inside list-disc divide-y",children:[(0,s.jsx)("h4",{className:"py-2",children:(0,s.jsx)(P.KI,{href:"/danh-sach/truyen-moi",title:"Truyện mới cập nhật",className:"pt-2 text-gray-100",children:"Truyện mới cập nhật"})}),(0,s.jsx)("h4",{className:"py-2",children:(0,s.jsx)(P.KI,{href:"/danh-sach/truyen-hoan-thanh",title:"Truyện ho\xe0n th\xe0nh",className:"pt-2 text-gray-100",children:"Truyện ho\xe0n th\xe0nh"})}),(0,s.jsx)("h4",{className:"py-2",children:(0,s.jsx)(P.KI,{href:"/danh-sach/truyen-tam-ngung",title:"Truyện tạm ngưng",className:"pt-2 text-gray-100",children:"Truyện tạm ngưng"})})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"flex items-center space-x-2",children:(0,s.jsx)("div",{title:"Xếp hạng",className:"font-semibold text-gray-100",children:"Xếp hạng"})}),(0,s.jsx)("div",{className:"mx-5",children:(0,s.jsxs)("ul",{className:"divide-auto list-inside list-disc divide-y",children:[(0,s.jsx)("h4",{className:"py-2",children:(0,s.jsx)(P.KI,{href:"/xep-hang/luot-doc",title:"Xếp hạng lượt đọc",className:"pt-2 text-gray-100",children:"Lượt đọc"})}),(0,s.jsx)("h4",{className:"py-2",children:(0,s.jsx)(P.KI,{href:"/xep-hang/de-cu",title:"Xếp hạng đề cử",className:"pt-2 text-gray-100",children:"Đề cử"})})]})})]})]}),T=n(71768),E=n(88625),L=n(22170),M=n.n(L),_=n(42275);function W(){let{data:e}=(0,p.CG)(e=>e.me),t=(0,p.TL)(),[n,i]=(0,f.useState)(0),[a,l]=(0,f.useState)("connecting"),r=(0,f.useRef)(),c=(0,f.useRef)(0),o=(0,f.useCallback)(M()(()=>{t((0,g.aM)())},500),[t]),d=(0,f.useCallback)(()=>{l("connecting");let n=null,s=null;return y.W.off("connect"),y.W.off("disconnect"),y.W.off("connect_error"),y.W.off("onlineCount"),y.W.off("notice"),y.W.on("connect",()=>{l("connected"),c.current=0,console.log("Socket Connected"),s=setInterval(()=>{let e=Date.now();n&&clearTimeout(n),n=setTimeout(()=>{console.log("Ping timeout - Disconnecting"),y.W.disconnect()},35e3),y.W.emit("ping"),y.W.once("pong",()=>{n&&clearTimeout(n);let t=Date.now()-e;console.log("Ping latency: ".concat(t,"ms"))})},3e4),y.W.off("update-me"),y.W.on("update-me",()=>{o()})}),(null==e?void 0:e.disabledCultivation)||(null==e?void 0:e.disabledNotification)||y.W.on("notice",n=>{console.log("Notice:",n.message),n.notice&&(!n.onlyLogin||(null==e?void 0:e.id))&&(T.ZP.info({content:"[Thi\xean Đạo] ".concat(n.message),duration:20}),n.updateMe&&t((0,g.aM)()))}),y.W.on("onlineCount",e=>{i(e.count),t((0,_.w)(e.userIds))}),y.W.on("disconnect",e=>{l("disconnected"),console.log("Socket Disconnected:",e),s&&(clearInterval(s),s=null),n&&(clearTimeout(n),n=null),y.W.off("update-me"),c.current<5&&(console.log("Attempting to reconnect... (".concat(c.current+1,"/").concat(5,")")),setTimeout(()=>{c.current+=1,y.W.connect()},5e3))}),y.W.on("connect_error",e=>{c.current+=1,l("disconnected"),c.current<5&&setTimeout(()=>{y.W.connect()},5e3)}),r.current=y.W,y.W},[null==e?void 0:e.id,o]);(0,f.useEffect)(()=>{{let{userAgent:e}=navigator;if(/bot|googlebot|crawler|spider|bingbot/i.test(e))return console.log("Bot detected, skipping socket connection."),l("disconnected"),()=>{};window.socketInstance=y.W;let t=()=>{if(!y.W.connected)try{y.W.connect()}catch(e){}};return setInterval(()=>{t()},1e4),d(),setTimeout(()=>{t()}),()=>{y.W&&y.W.close()}}},[d]),(0,f.useEffect)(()=>()=>{o.cancel()},[o]);let[u,h]=(0,f.useMemo)(()=>{switch(a){case"connecting":return["bg-yellow-500","Đang kết nối..."];case"connected":return["bg-green-500","Trực tuyến"];default:return["bg-red-500","Mất kết nối"]}},[a]);return(0,s.jsx)("div",{className:"flex items-baseline space-x-2 rounded-lg p-2 shadow",children:(0,s.jsx)(E.Z,{title:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:h}),(0,s.jsx)("p",{className:"text-2xl font-semibold text-rose-500",children:n})]}),children:(0,s.jsx)("div",{className:"size-4 rounded-full ".concat(u)})})})}var Z=n(50552);let I=(0,f.lazy)(()=>Promise.all([n.e(1423),n.e(2943),n.e(7911),n.e(7803)]).then(n.bind(n,77803))),z=(0,f.lazy)(()=>Promise.all([n.e(8158),n.e(5668),n.e(1659)]).then(n.bind(n,51659)));var R=()=>{let{data:e}=(0,m.useSession)({required:!1}),t=(0,h.usePathname)(),n=(0,p.CG)(e=>e.me.data),x=(0,p.TL)(),[v,y]=(0,f.useState)(!1),[b,j]=(0,f.useState)(!1),[N,P]=(0,f.useState)(),T=(0,f.useRef)(null),E=(0,f.useRef)(null),L=(0,h.useRouter)(),M=()=>{var e,t;(0,Z.routerPush)({router:L,href:"/tim-kiem?term=".concat(null===(t=E.current)||void 0===t?void 0:null===(e=t.input)||void 0===e?void 0:e.value)})};(0,f.useEffect)(()=>{var t;(null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.id)&&x((0,g.aM)())},[]),(0,f.useEffect)(()=>{j(!1)},[t]);let _=(0,f.useMemo)(()=>(0,s.jsx)("div",{className:"flex w-full items-center justify-end space-x-2",children:e?(0,s.jsx)(o.ZP,{type:"default",onClick:()=>{j(!1),(0,Z.routerPush)({router:L,href:"/ho-so"})},className:"ml-auto",children:"Th\xf4ng tin chi tiết/H\xf2m đồ"}):(0,s.jsx)(o.ZP,{type:"default",onClick:()=>P("login"),className:"ml-auto",children:"Đăng Nhập/Đăng K\xed"})}),[L,e]);return(0,f.useEffect)(()=>{let e=e=>{T.current&&!T.current.contains(e.target)&&y(!1)};return v&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[v]),(0,s.jsx)("header",{id:"header",className:"w-full bg-zinc-800",children:(0,s.jsxs)("div",{className:"p-2",children:[(0,s.jsxs)("div",{className:"relative flex h-10 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-3",children:[(0,s.jsx)(i.Z,{className:"cursor-pointer select-none text-[24px]",onClick:()=>(0,Z.routerPush)({router:L,callback:e=>{L.back(),e&&e()}})}),(0,s.jsx)(a.Z,{className:"cursor-pointer select-none text-[24px]",onClick:()=>y(e=>!e)}),(0,s.jsx)(W,{})]}),(0,s.jsx)("div",{className:"absolute left-[calc(50%-20px)] top-0",children:(0,s.jsx)(Z.TransitionLink,{href:"https://qidian-vp.com",children:(0,s.jsx)(C.ImageWithFallback,{className:"size-10",width:40,height:40,src:"https://".concat("cdn.qidian-vp.com","/assets/logo.png"),alt:"Qidian-VP truyện chữ, truyện convert hay dịch chuẩn nhất, đọc truyện online, ti\xean hiệp, huyền huyễn",priority:!0})})}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)(k,{}),(0,s.jsx)(o.ZP,{onClick:()=>j(!0),className:"!border-none !p-0",children:(0,s.jsx)(l.Z,{className:"cursor-pointer select-none text-[24px]"})})]})]}),(0,s.jsx)("div",{ref:T,children:v&&(0,s.jsxs)("div",{className:"relative flex flex-wrap",children:[(0,s.jsx)(d.Z,{ref:E,onKeyDown:e=>{"Enter"===e.key&&M()},name:"search_term_string",placeholder:"T\xean/ID truyện bằng c\xf4ng cụ t\xecm kiếm của Qidian-VP",className:"!mt-4 !bg-gray-700 !p-2 !pr-[40px] !text-base placeholder:!text-gray-400"}),(0,s.jsx)(a.Z,{className:"absolute right-[8px] top-[24px] cursor-pointer select-none text-[24px]",onClick:M})]})}),(0,s.jsx)(u.Z,{onClose:()=>j(!1),open:b,title:_,forceRender:!0,className:"!bg-zinc-800",closeIcon:(0,s.jsx)(r.Z,{className:"cursor-pointer text-2xl",onClick:()=>j(!1)}),styles:{header:{padding:12},body:{padding:12}},children:(0,s.jsxs)(f.Suspense,{fallback:(0,s.jsx)(w.Z,{className:"min-h-[150px]"}),children:[(0,s.jsxs)("div",{className:"space-y-3",children:[b&&n&&n.name&&(0,s.jsx)(I,{}),(0,s.jsx)("div",{className:b?"":"hidden",children:(0,s.jsx)(S,{})}),b&&n&&n.name&&(0,s.jsx)("div",{className:"flex w-full justify-center",children:(0,s.jsx)(o.ZP,{type:"default",onClick:()=>(0,m.signOut)(),children:(0,s.jsx)(c.Z,{})})})]}),"login"===N&&(0,s.jsx)(f.Suspense,{fallback:(0,s.jsx)(w.Z,{className:"fixed left-0 top-0 z-10 h-screen w-screen"}),children:(0,s.jsx)(z,{show:!0,onClose:()=>P(void 0)})})]})})]})})}},80672:function(e,t,n){"use strict";var s=n(57437),i=n(62737),a=n.n(i),l=n(2265),r=n(40904),c=n(83873),o=n(52581);t.default=()=>{let{data:e}=(0,r.CG)(e=>e.me),[t,n]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(null==e?void 0:e.watchAdsAt)&&o.T_.isKvct(e.watchAdsAt)&&(n(!0),setTimeout(()=>{n(!1)},1e3*a()(e.watchAdsAt).diff(a()(),"seconds")))},[null==e?void 0:e.watchAdsAt]);let i=(0,l.useMemo)(()=>{if(!e)return"var(--color-pink-600)";let t=e.status?c.hl[e.status]:"pink-600";return"var(--color-".concat(null==t?void 0:t.replace("!to-",""),")")},[e]);return t?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"pointer-events-none fixed inset-0 z-[9999]",children:[(0,s.jsx)("div",{className:"absolute inset-x-0 -top-1 h-1 animate-pulse",style:{boxShadow:"0 0 8px 8px ".concat(i)}}),(0,s.jsx)("div",{className:"absolute inset-y-0 -right-1 w-1 animate-pulse",style:{boxShadow:"0 0 8px 8px ".concat(i)}}),(0,s.jsx)("div",{className:"absolute inset-x-0 -bottom-1 h-1 animate-pulse",style:{boxShadow:"0 0 8px 8px ".concat(i)}}),(0,s.jsx)("div",{className:"absolute inset-y-0 -left-1 w-1 animate-pulse",style:{boxShadow:"0 0 8px 8px ".concat(i)}})]})}):null}},88830:function(e,t,n){"use strict";var s=n(30998);t.default=s.SessionProvider},72856:function(e,t,n){"use strict";var s=n(57437),i=n(62737),a=n.n(i),l=n(2265),r=n(66548),c=n(21661);t.default=()=>{let[e,t]=(0,l.useState)(!0),[n,i]=(0,l.useState)(),o=(0,l.useRef)(null),d=(0,l.useMemo)(()=>{let e=JSON.parse((null==n?void 0:n.value)||"[]"),t=Math.floor(Math.random()*e.length);return e[t]},[null==n?void 0:n.value]);(0,l.useEffect)(()=>{setTimeout(()=>{c.Z.get("/ads").then(e=>{e.data.success&&i(e.data.ads)})},5e4)},[]);let{startTracking:u}=(0,r.W)();return(0,l.useEffect)(()=>{"undefined"!=typeof localStorage&&(localStorage.getItem("lastShopeePopup")?setTimeout(()=>{t(a()(localStorage.getItem("lastShopeePopup")).isAfter(a()().subtract(3,"hours")))},6e4):setTimeout(()=>{t(!1)},6e4))},[]),!e&&(0,s.jsx)("a",{className:"fixed left-0 top-0 z-10 inline-block size-full cursor-pointer opacity-0",href:d,onClick:e=>{a()(localStorage.getItem("lastShopeePopup")).isAfter(a()().subtract(3,"hours"))||(localStorage.setItem("lastShopeePopup",a()().format("YYYY-MM-DD HH:mm:ss")),t(!0),u(),setTimeout(()=>{let t=document.elementFromPoint(e.clientX,e.clientY);t instanceof HTMLElement&&t.click()},100))},ref:o,target:"_blank",rel:"noopener noreferrer","aria-label":"Shopee Popup Link"})}},47254:function(e,t,n){"use strict";n.d(t,{default:function(){return u}});var s=n(57437),i=n(2265),a=n(11444),l=n(66862),r=n(42275),c=n(93741),o=n(94876);let d=()=>(0,l.xC)({reducer:{me:o.ZP,comments:c.ZP,global:r.Z},middleware:e=>e({serializableCheck:!1})});function u(e){let{children:t}=e,n=(0,i.useRef)();return n.current||(n.current=d()),(0,s.jsx)(a.zt,{store:n.current,children:t})}},99948:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var s=n(57437),i=n(2265),a=n(11444),l=n(78389);let r=(0,i.lazy)(()=>n.e(4896).then(n.bind(n,64896)));function c(){let[e,t]=(0,i.useState)(!1),[n,c]=(0,i.useState)(null),o=(0,a.v9)(e=>e.me.data);return((0,i.useEffect)(()=>{if(!o)return()=>{};let e=e=>{e.userId===o.id&&(c(e),t(!0))};return l.W.on("uyThacReward",e),()=>{l.W.off("uyThacReward",e)}},[o]),n&&e)?(0,s.jsx)(r,{data:n,isModalOpen:e,setIsModalOpen:t}):null}},42089:function(e,t,n){"use strict";n.r(t),n.d(t,{NavigationEvents:function(){return l}});var s=n(57437),i=n(16463),a=n(2265);let l=()=>{let e=(0,i.usePathname)(),t=(0,i.useSearchParams)();return(0,a.useEffect)(()=>{let e=document.querySelector(".main-container");return null==e||e.classList.remove("page-transition"),()=>{}},[e,t]),(0,s.jsx)(s.Fragment,{children:" "})}},58445:function(e,t,n){"use strict";n.r(t),n.d(t,{PaginationLink:function(){return r}});var s=n(57437),i=n(61646),a=n(16463),l=n(50552);let r=e=>{let t=(0,a.useSearchParams)(),n=(0,a.usePathname)();return(0,s.jsx)(i.Z,{itemRender:(e,i,a)=>{if("page"===i){let i=new URLSearchParams(t.toString());return i.set("page",e.toString()),(0,s.jsx)(l.TransitionLink,{prefetch:!1,href:"".concat(n,"?").concat(i.toString()),children:e})}return a},className:"flex min-h-[32px]",...e})}},85117:function(e,t,n){"use strict";n.r(t),n.d(t,{ScrollToTop:function(){return c}});var s=n(57437),i=n(91101),a=n(22170),l=n.n(a),r=n(2265);let c=()=>{let e=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let t=l()(()=>{var n,s,i;if(null===(n=e.current)||void 0===n?void 0:n.matches(":hover")){t();return}null===(s=e.current)||void 0===s||s.classList.add("opacity-0"),null===(i=e.current)||void 0===i||i.classList.add("invisible")},3e3),n=()=>{var n,s,i,a;window.scrollY>50?(null===(n=e.current)||void 0===n||n.classList.remove("opacity-0"),null===(s=e.current)||void 0===s||s.classList.remove("invisible"),t()):(null===(i=e.current)||void 0===i||i.classList.add("opacity-0"),null===(a=e.current)||void 0===a||a.classList.add("invisible"))};return n(),window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]),(0,s.jsx)("div",{className:"scroll-to-top invisible fixed bottom-[10px] right-[10px] size-fit text-5xl text-rose-800 opacity-0 md:text-6xl lg:text-7xl",ref:e,children:(0,s.jsx)(i.Z,{twoToneColor:"#78350f ",onClick:()=>window.scrollTo({behavior:"smooth",top:0})})})}},50552:function(e,t,n){"use strict";n.r(t),n.d(t,{TransitionLink:function(){return c},routerPush:function(){return r}});var s=n(57437),i=n(87138),a=n(16463);n(2265);var l=n(59355);let r=async e=>{let{router:t,href:n,callback:s}=e,i=document.querySelector(".main-container");null!==i&&(i.classList.add("page-transition"),await new Promise(e=>{setTimeout(e,100)}),n&&t.push((0,l.VF)(n)),s&&s(()=>null==i?void 0:i.classList.remove("page-transition")))},c=e=>{let{children:t,href:n,...c}=e,o=(0,a.useRouter)(),d=async e=>{e.preventDefault(),window.location.href!==(0,l.VF)(n)&&r({href:n,router:o})};return(0,s.jsx)(i.default,{prefetch:!1,...c,href:(0,l.VF)(n),onClick:d,children:t})}},16311:function(e,t,n){"use strict";n.d(t,{J5:function(){return i.routerPush},KI:function(){return i.TransitionLink},kN:function(){return s.PaginationLink}}),n(42089);var s=n(58445);n(85117);var i=n(50552)},66548:function(e,t,n){"use strict";n.d(t,{W:function(){return a}});var s=n(2265),i=n(21661);let a=function(){let{inactivityTime:e=1e4}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,s.useRef)(null),n=(0,s.useRef)(0),a=(0,s.useRef)(!1),l=(0,s.useCallback)(()=>{console.log("stopTracking"),t.current&&(clearTimeout(t.current),t.current=null),window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("keydown",l),window.removeEventListener("scroll",l),a.current=!1},[]),r=(0,s.useCallback)(()=>{let s=Date.now();s-n.current>e?(i.Z.get("/me/get-new-ads?timestamp=".concat(s)),l()):a.current&&(t.current=setTimeout(()=>r(),1e3))},[e,l]),c=(0,s.useCallback)(()=>(l(),a.current=!0,n.current=Date.now(),window.addEventListener("mousemove",l),window.addEventListener("touchmove",l),window.addEventListener("keydown",l),window.addEventListener("scroll",l),t.current=setTimeout(()=>{r()},1e3),n.current),[r,l]);return(0,s.useEffect)(()=>()=>{l()},[l]),{startTracking:c,stopTracking:l,isTracking:()=>a.current}}},42275:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var s=n(66862);let i=(0,s.hg)("global/SET_ONLINE_USER_IDS",async e=>e),{reducer:a}=(0,s.oM)({name:"global",initialState:{onlineUserIds:{}},reducers:{},extraReducers:e=>{e.addCase(i.fulfilled,(e,t)=>({...e,onlineUserIds:t.payload.reduce((e,t)=>(e[Number(t)]=!0,e),{})}))}});t.Z=a},93741:function(e,t,n){"use strict";n.d(t,{YF:function(){return d},Yr:function(){return o},tF:function(){return h},tH:function(){return c},uA:function(){return u}});var s=n(66862),i=n(71768),a=n(13839),l=n.n(a),r=n(21661);let c=(0,s.hg)("comments/FETCH_COMMENTS",async(e,t)=>{let{params:{bookId:n,commentId:s,offset:i},successCallback:a}=e,l={book_id:n,offset:i,comment_id:s};if(void 0===l.offset){let{data:e}=t.getState().comments;l.offset=e.length}let c=await r.Z.get("/comments",{params:l}).then(e=>e.data);return a&&a(c),c}),o=(0,s.hg)("comments/CREATE_COMMENT",async e=>{let{params:t,successCallback:n,failCallback:s}=e;try{let e=await r.Z.post("/comments",t).then(e=>e.data);return e.success?(e.message&&i.ZP.success(e.message),n&&n(e.comment)):e.message&&i.ZP.error(e.message),e}catch(e){return s&&s(),{success:!1}}}),d=(0,s.hg)("comments/DELETE_COMMENT",async e=>{let{params:{id:t},successCallback:n}=e,s=await r.Z.delete("/comments/".concat(t)).then(e=>e.data);return s.success?(i.ZP.success(s.message),n&&n()):i.ZP.error(s.message),s}),u=(0,s.hg)("comments/UPDATE_COMMENT",async e=>{let{params:t,successCallback:n}=e,s=await r.Z.put("/comments/".concat(t.id),t).then(e=>e.data);return s.success?(s.message&&i.ZP.success(s.message),n&&n(s.comment)):s.message&&i.ZP.error(s.message),s}),h=(0,s.hg)("comments/REACT_COMMENT",async e=>{let{params:t,successCallback:n}=e,s=await r.Z.put("/comments/".concat(t.id,"/react"),t).then(e=>e.data);return s.success?n&&n(s.comment):s.message&&i.ZP.error(s.message),s}),m=(0,s.hg)("comments/CLEAN_COMMENTS",async()=>[]),{reducer:f}=(0,s.oM)({name:"comment",initialState:{data:[],total:0,fetching:!1,isSubmitting:!1},reducers:{},extraReducers:e=>{e.addCase(c.pending,e=>({...e,fetching:!0})).addCase(c.fulfilled,(e,t)=>{let{commentId:n}=t.meta.arg.params,{comments:s,total:i}=t.payload;return n?{...e,fetching:!1}:{...e,total:i||e.total,data:[...e.data,...s],fetching:!1}}).addCase(c.rejected,e=>({...e,fetching:!1})).addCase(o.pending,e=>({...e,isSubmitting:!0})).addCase(o.fulfilled,(e,t)=>{let{parentId:n}=t.meta.arg.params;if(t.meta.arg.isGlobal||n)return{...e,isSubmitting:!1};let s=l()(e.data||[]);return s.unshift(t.payload.comment),{...e,total:e.total+1,data:s,isSubmitting:!1}}).addCase(o.rejected,e=>({...e,isSubmitting:!1})).addCase(d.pending,e=>({...e,isSubmitting:!0})).addCase(d.fulfilled,(e,t)=>{let{id:n}=t.meta.arg.params;return{...e,data:e.data.filter(e=>e.id!==n),isSubmitting:!1}}).addCase(d.rejected,e=>({...e,isSubmitting:!1})).addCase(u.pending,e=>({...e,isSubmitting:!0})).addCase(u.fulfilled,(e,t)=>(l()(e.data||[]).unshift(t.payload.comment),{...e,data:e.data.map(e=>e.id===t.payload.comment.id?t.payload.comment:e),isSubmitting:!1})).addCase(u.rejected,e=>({...e,isSubmitting:!1})).addCase(h.fulfilled,(e,t)=>t.payload.success?{...e,data:e.data.map(e=>e.id===t.payload.comment.id?{...e,...t.payload.comment}:e)}:e).addCase(m.fulfilled,e=>({...e,data:[],total:0}))}});t.ZP=f},59355:function(e,t,n){"use strict";n.d(t,{df:function(){return o},l:function(){return d},SV:function(){return i},Lt:function(){return c},VF:function(){return a},F2:function(){return l},vs:function(){return r}}),n(38544),n(67655);var s=n(71524);n(20357);let i=()=>"https://qidian-vp.com",a=e=>new URL(e,i()).toString(),l=e=>e?(0,s.BW)(e):"",r=e=>{let{name:t,isBad:n}=e;return n||0===t.trim().length?"[Qidian-VP.com]":t.length>30?(0,s.BW)([t.slice(0,10)," [Qidian-VP.com] ",t.slice(t.length-10,t.length)].join("")):(0,s.BW)(t)},c=e=>RegExp("^\\s*(?:\\p{Extended_Pictographic}(?:\\uFE0F)?(?:\\p{Emoji_Modifier})?(?:\\u200D\\p{Extended_Pictographic}(?:\\uFE0F)?(?:\\p{Emoji_Modifier})?)*\\s*)+$","u").test(e),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return e.reduce((e,n)=>(t in n&&(e[n[t]]=n),e),{})},d=e=>e.reduce((e,t)=>(e[t]=!0,e),{})},71524:function(e,t,n){"use strict";n.d(t,{BW:function(){return f}});var s=n(38544),i=n.n(s);let a=["địt","lồn","cặc","đ\xe9o","admin","ch\xf3","dog","s\xfac","dm","buồi","giết","hiếp","d\xe2m","dục","đm","v\xfa","s\xfang","đạn","chết","chặt đầu","con cặc","đụ m\xe1","đụ mẹ","địt mẹ","s\xfac vật","ngu lồn","bắt c\xf3c","tống tiền","phản quốc","phản động","nội tạng","cờ bạc","t\xe0i xỉu"],l=e=>e?e.normalize("NFC"):"",r=()=>({children:{},isEndOfWord:!1,word:""}),c=(()=>{let e=r();for(let t of a){let n=e,s=l(t.toLowerCase());for(let e of s)n.children[e]||(n.children[e]=r()),n=n.children[e];n.isEndOfWord=!0,n.word=s}return e})(),o=e=>e.length<100,d=e=>!e||RegExp("[\\s\\p{P}\\p{Z}\\p{S}]","u").test(e),u=[...a].sort((e,t)=>t.length-e.length).map(e=>l(e)),h=e=>{if(!e)return"";let t=l(e);for(let e of u){let n=l(e.toLowerCase()),s=!n.includes(" "),a=s?RegExp("(?:^|[\\s\\p{P}\\p{Z}\\p{S}])".concat(i()(n),"(?=[\\s\\p{P}\\p{Z}\\p{S}]|$)"),"giu"):RegExp(i()(n),"gi");t=t.replace(a,e=>{if(s){let t=e.toLowerCase().indexOf(n.toLowerCase());return -1===t?e:e.substring(0,t)+e.substring(t,t+n.length).split("").join("\xb7")}return e.split("").join("\xb7")})}return t},m=e=>{if(!e)return"";let t=l(e),n=t.toLowerCase(),s=[],i=0;for(;i<n.length;){let e=c,a=-1,l=i,r=0===i||d(n[i-1]);for(;l<n.length;){let t=n[l];if(!t||!e.children[t])break;if((e=e.children[t]).isEndOfWord){let{word:t}=e,s=!t.includes(" "),i=l===n.length-1||d(n[l+1]);(!s||r&&i)&&(a=l)}l+=1}if(-1!==a){let e=t.substring(i,a+1);s.push(e.split("").join("\xb7")),i=a+1}else s.push(t[i]),i+=1}return s.join("")},f=e=>o(e)?h(e):m(e),g={};a.forEach(e=>{e.includes(" ")||(g[l(e.toLowerCase())]=!0)})},65251:function(){}},function(e){e.O(0,[529,1646,3690,231,3669,4356,9754,6459,4997,6648,5509,7840,1710,7571,3839,2814,9772,5040,9471,1420,2971,7023,1744],function(){return e(e.s=29318)}),_N_E=e.O()}]);