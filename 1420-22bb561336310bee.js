"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1420],{65870:function(e,t,n){n.r(t),n.d(t,{ImageWithFallback:function(){return o}});var a=n(57437),r=n(66648),i=n(2265);function o(e){let{src:t,alt:n,fallbackSrc:o="/assets/images/no-image.svg",width:u,height:s,className:c="",priority:h,loading:d,...l}=e,[g,f]=(0,i.useState)(t);return(0,a.jsx)(r.default,{...l,src:g,alt:n,width:u,height:s,className:c,priority:h,loading:d,unoptimized:!0,onError:()=>{f(o)}})}},2857:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(57437);function r(e){let{className:t}=e;return(0,a.jsx)("div",{className:"flex h-full items-center justify-center ".concat(t),children:(0,a.jsx)("div",{className:"size-8 animate-spin rounded-full border-4 border-solid border-rose-500 border-t-transparent"})})}},92448:function(e,t,n){n.d(t,{NO:function(){return r},Ps:function(){return s},UT:function(){return h},Ux:function(){return c},X_:function(){return i},g3:function(){return u},gZ:function(){return a},xB:function(){return d}});let a={critRate:5,critDamage:100,penetration:0,counterPenetration:0,damageReduction:0,lifeSteal:0,speedBoost:0,counter:0,dodge:10,accuracy:0,damageBoost:0,coin:0,exp:0,tbtVip:0,dongquat:0,ymcl:0,ymcl_critRate:5,ymcl_critDamage:100,counterCrit:0,counterCritDamage:0,counterLifeSteal:0,heal:0};function r(e){try{return{...a,...JSON.parse(e||"")}}catch(e){return{...a}}}function i(e){try{if(!e.stats())return{...a};if("object"==typeof e.stats())return e.stats();let t=JSON.parse(e.stats());return{...a,...t}}catch(e){return{...a}}}let o=(e,t,n)=>{let a=0;return n&&(a-=n),t&&(a+=t),Math.max(1,Math.round(e*(100+a)/100))};function u(e,t,n,a){let r=i(e),u=i(t),s=u.dodge+u.speedBoost/4-r.accuracy/2,c=s>0&&100*Math.random()<s;if(c)return{damage:0,isCrit:!1,isDodged:!0,lifeSteal:0};let h=(r.critRate||0)+ +(r.accuracy/2)-(u.counterCrit||0),d=h>0&&100*Math.random()<h,l=n;if(d){let e=(r.critDamage||0)-(u.counterCritDamage||0);l*=e>0?1+e/100:1}let g=null!=a?a:t.def();r.penetration&&g>=0&&(g=Math.max(0,g*(100-r.penetration+u.counterPenetration)/100)),l=o(l=Math.max(1,l-g),r.damageBoost,u.damageReduction);let f=(r.lifeSteal||0)-(u.counterLifeSteal||0),m=f>0?Math.floor(l*f/100):0;return{damage:Math.max(1,Math.round(l)),isCrit:d,isDodged:c,lifeSteal:m}}function s(e,t,n,a){return n<a?0:Math.max(1,Math.round(Math.floor(e*(n-a)/100)-t))}function c(e,t,n){let a=i(e),r=i(t);return r.counter?s(e.atk(),e.def(),r.counter,a.damageReduction):0}function h(e,t){let n=i(t);return n.speedBoost?Math.max(1,e*(100-n.speedBoost)/100):e}let d=(e,t)=>{let n={};return Object.entries(JSON.parse(e.data).gems||{}).filter(e=>{let[n]=e;return Number(n)<=2*t}).reduce((e,t)=>{let[,n]=t,{type:r}=n;return r in a&&(e[r]?e[r]+=n.value:e[r]=n.value),e},n),n}},39589:function(e,t,n){n.d(t,{D7:function(){return c},EJ:function(){return d},IQ:function(){return l},M1:function(){return f},MX:function(){return m},Oq:function(){return g},Wj:function(){return u},ql:function(){return s}});var a=n(62737),r=n.n(a),i=n(83873);let o=e=>i.CA[e.status+1]||1,u=e=>{let t=o(e);return i.zq[e.status+1]&&e.exp>=t},s=e=>{let t=o(e);return Math.floor(e.exp/t*100)},c=e=>{let{lastCheckIn:t}=e;return!t||r()().diff(r()(t),"minutes")>=60},h=e=>e<1e3?e:e<1e4?"".concat(Math.floor(e/1e3)," ng\xe0n"):e<1e6?"".concat(Math.floor(e/1e4)," vạn"):e<1e7?"".concat(Math.floor(e/1e6)," trăm vạn"):e<1e8?"".concat(Math.floor(e/1e7)," ng\xe0n vạn"):"".concat(Math.floor(e/1e8)," ức"),d=e=>e<0?"-".concat(h(-e)):h(e),l=e=>i.dP[e||0]||1,g=e=>{let{data:t,level:n,enchance:a}=e,r=JSON.parse(t),i=2**(n||a),o=Math.round((r.attack||0)*i);return{attack:o,defense:Math.round((r.defense||0)*i),health:Math.round((r.health||0)*i),weight:Math.round((r.weight||0)*1.5**n),baseAttack:r.attack||0,baseDefense:r.defense||0,baseHealth:r.health||0,baseWeight:r.weight||0}},f=e=>{let t=g(e);return 10*t.attack+10*t.defense+t.health},m=e=>3**Math.floor(e/2)},90782:function(e,t,n){n.d(t,{Xm:function(){return i},mo:function(){return a},pJ:function(){return o},ym:function(){return u}});let a=e=>{let{values:t,weights:n}=e.reduce((e,t)=>(e.values.push(t.key),e.weights.push(t.percent),e),{values:[],weights:[]});return{values:t,weights:n}},r=a([{percent:1,key:"1-10"},{percent:10,key:"11-30"},{percent:40,key:"31-50"},{percent:40,key:"51-70"},{percent:8,key:"71-90"},{percent:1,key:"91-100"}]);a([{percent:1,key:"1-10"},{percent:5,key:"11-20"},{percent:5,key:"21-30"},{percent:5,key:"31-40"},{percent:1,key:"31-50"}]);let i=a([{percent:1,key:"51-70"},{percent:2,key:"71-90"},{percent:3,key:"91-100"}]),o=e=>{let{values:t,weights:n}=e;if(t.length!==n.length)throw Error("Values and weights must have the same length");let a=0;n.forEach(e=>{a+=e});let r=Math.ceil(Math.random()*a),i=0,o="";return n.forEach((e,n)=>{!o&&(i+=e)>=r&&t[n]&&(o=t[n])}),o};function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,[t,n]=o(e).split("-");if(!t||!n)throw Error("Invalid key");return Math.floor(Math.random()*(Number(n)-Number(t)+1))+Number(t)}},21661:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(71768),r=n(38472),i=n(10462),o=n.n(i);let u=e=>new TextEncoder().encode(e),s=e=>Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join(""),c=async(e,t,n)=>{let a=JSON.stringify({path:e,timestamp:t}),r=u(n),i=await crypto.subtle.importKey("raw",r,{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return s(await crypto.subtle.sign("HMAC",i,u(a)))},h=r.Z.create({baseURL:"/api"});h.interceptors.request.use(async e=>{var t;let n=localStorage.getItem("token"),a={...e};n&&(a.headers.Authorization=n),a.headers["Content-Type"]||(a.headers["Content-Type"]="application/json");let r=Date.now();a.headers["X-Timestamp"]=r;let i="/api".concat(null===(t=e.url)||void 0===t?void 0:t.split("?")[0]),o=await c(i,r,"qidian-vp-lam-nguoi-di-ban");return a.headers["X-Signature"]=o,a},e=>Promise.reject(e)),h.interceptors.response.use(e=>e,e=>{console.log(e);let{data:{message:t}}=e.response,{config:{headers:{ignoreApiAlertMsg:n}},data:{errors:r}}=e.response;return n||(t||(t=e.response.message),!t&&r&&(t=r[0].message?r.map(e=>e.message):r[0].messages?o()(r.map(e=>e.messages)):r),t&&Array.isArray(t)&&(t=t.join(",")),t&&"object"==typeof t||(401===e.response.status?a.ZP.error("Chưa đăng nhập"):a.ZP.error(t||"Error happened"))),Promise.reject(e)});var d=h},94876:function(e,t,n){n.d(t,{DO:function(){return s},Lq:function(){return h},Mt:function(){return d},Ry:function(){return g},Sn:function(){return l},XM:function(){return c},aM:function(){return o},rv:function(){return f}});var a=n(66862),r=n(71768),i=n(21661);let o=(0,a.hg)("me/FETCH_ME",async()=>await i.Z.get("/me?timestamp=".concat(Date.now())).then(e=>e.data)),u=(0,a.hg)("me/LOAD_LOGS",async()=>await i.Z.get("/me/cultivation-logs").then(e=>e.data)),s=(0,a.hg)("me/UPDATE_ME",async e=>{let{data:t,successCallback:n,hideMessage:a}=e,o=await i.Z.put("/me",t).then(e=>e.data);return o.success?(a||r.ZP.success(o.message),n&&n()):r.ZP.error(o.message),o}),c=(0,a.hg)("me/SET_ME",async e=>{let{me:t,replace:n=!0}=e;return{me:t,replace:n}}),h=(0,a.hg)("me/SET_ME_BY_CALLBACK",async(e,t)=>{let{callback:n}=e,{data:a}=t.getState().me;return n(a)}),d=(0,a.hg)("me/ASK_CODE",async e=>{let{params:{email:t},successCallback:n}=e,a=await i.Z.post("/me/ask-code",{email:t}).then(e=>e.data);return a.success?(r.ZP.success(a.message),n&&n()):r.ZP.error(a.message),a}),l=(0,a.hg)("me/FETCH_ME_READING",async()=>await i.Z.get("/me/reading").then(e=>e.data)),g=(0,a.hg)("me/UPDATE_ME_READING",async e=>{let{data:t}=e;return await i.Z.put("/me/reading",t).then(e=>e.data)}),f=(0,a.hg)("me/SET_USER_ITEM_BY_CALLBACK",async(e,t)=>{let{callback:n}=e,{userItems:a}=t.getState().me;return n(a)}),{reducer:m}=(0,a.oM)({name:"me",initialState:{userItems:[],pagination:{currentPage:1,perPage:20},fetching:!1,isSubmitting:!1,itemResources:{userHasMainPhapBao:!1,daoCuList:[],phapBaoList:[],devourableItems:[],phaCamChams:[],availableGems:[],giaiThachPhu:0,batHoaiPhu:0}},reducers:{},extraReducers:e=>{e.addCase(o.pending,e=>({...e,fetching:!0})).addCase(o.fulfilled,(e,t)=>({...e,data:t.payload,fetching:!1})).addCase(o.rejected,e=>({...e,fetching:!1})).addCase(u.pending,e=>({...e,fetching:!0})).addCase(u.fulfilled,(e,t)=>e.data?{...e,data:{...e.data,cultivationLogs:t.payload},fetching:!1}:{...e,fetching:!1}).addCase(u.rejected,e=>({...e,fetching:!1})).addCase(s.pending,e=>({...e,isSubmitting:!0})).addCase(s.fulfilled,e=>({...e,isSubmitting:!1})).addCase(s.rejected,e=>({...e,isSubmitting:!1})).addCase(d.pending,e=>({...e,isSubmitting:!0})).addCase(d.fulfilled,e=>({...e,isSubmitting:!1})).addCase(d.rejected,e=>({...e,isSubmitting:!1})).addCase(l.pending,e=>({...e,fetching:!0})).addCase(l.fulfilled,(e,t)=>({...e,fetching:!1,reading:t.payload})).addCase(l.rejected,e=>({...e,fetching:!1})).addCase(g.pending,e=>({...e,isSubmitting:!0})).addCase(g.fulfilled,(e,t)=>({...e,isSubmitting:!1,reading:t.payload})).addCase(g.rejected,e=>({...e,isSubmitting:!1})).addCase(f.fulfilled,(e,t)=>{let n=t.payload,a=function(e,t){let n=e.filter(e=>"daocu"===e.itemType),a=e.filter(e=>"phapbao"===e.itemType),r=e.filter(e=>"phapbao"===e.itemType&&!e.isMain&&!e.isLocked&&!e.using),i=e.filter(e=>"daocu"===e.itemType&&e.name.endsWith(" Thạch")),o=e.filter(e=>"daocu"===e.itemType&&"Ph\xe1 Cấm Ch\xe2m"===e.name),u=e.filter(e=>"daocu"===e.itemType&&"Giải Thạch Ph\xf9"===e.name).reduce((e,t)=>e+t.amount,0),s=e.filter(e=>"daocu"===e.itemType&&"Bất Hoại Ph\xf9"===e.name).reduce((e,t)=>e+t.amount,0);return{userHasMainPhapBao:a.some(e=>e.isMain),devourableItems:r,daoCuList:n,phapBaoList:a,phaCamChams:o,availableGems:i,giaiThachPhu:u,batHoaiPhu:s}}(n);return{...e,userItems:n,itemResources:a}}).addCase(c.fulfilled,(e,t)=>{let{me:n,replace:a}=t.payload;return a?{...e,data:n}:{...e,data:{...e.data,...n}}}).addCase(h.fulfilled,(e,t)=>({...e,data:t.payload}))}});t.ZP=m},40904:function(e,t,n){n.d(t,{CG:function(){return i},TL:function(){return r}});var a=n(11444);let r=a.I0.withTypes(),i=a.v9.withTypes();a.oR.withTypes()},83873:function(e,t,n){n.d(t,{CA:function(){return i},J0:function(){return a},K1:function(){return l},PQ:function(){return d},R8:function(){return c},Sc:function(){return o},Tw:function(){return h},dP:function(){return s},hl:function(){return u},zq:function(){return r}});let a={PHAM_NHAN:0,BANNED:-99,ADMIN:100,TU_BAO_TRAI:-1,PHUC_THAN:-2,BAD:-3,TRI_NANG:-4},r={0:"Ph\xe0m Nh\xe2n","-99":"Đạo Nghiệt","-1":"Tụ Bảo Trai","-2":"Ph\xfac Thần","-3":"Tai Tinh","-4":"Tr\xed Năng","-5":"Thi\xean Địa Ch\xed Linh",100:"Thi\xean Quỷ",1:"Luyện Kh\xed 1",2:"Luyện Kh\xed 2",3:"Luyện Kh\xed 3",4:"Luyện Kh\xed 4",5:"Luyện Kh\xed 5",6:"Luyện Kh\xed 6",7:"Luyện Kh\xed 7",8:"Luyện Kh\xed 8",9:"Luyện Kh\xed 9",10:"Tr\xfac Cơ 1",11:"Tr\xfac Cơ 2",12:"Tr\xfac Cơ 3",13:"Tr\xfac Cơ 4",14:"Tr\xfac Cơ 5",15:"Tr\xfac Cơ 6",16:"Tr\xfac Cơ 7",17:"Tr\xfac Cơ 8",18:"Tr\xfac Cơ 9",19:"Kim Đan 1",20:"Kim Đan 2",21:"Kim Đan 3",22:"Kim Đan 4",23:"Kim Đan 5",24:"Kim Đan 6",25:"Kim Đan 7",26:"Kim Đan 8",27:"Kim Đan 9",28:"Nguy\xean Anh 1",29:"Nguy\xean Anh 2",30:"Nguy\xean Anh 3",31:"Nguy\xean Anh 4",32:"Nguy\xean Anh 5",33:"Nguy\xean Anh 6",34:"Nguy\xean Anh 7",35:"Nguy\xean Anh 8",36:"Nguy\xean Anh 9",37:"Dung Hư 1",38:"Dung Hư 2",39:"Dung Hư 3",40:"Dung Hư 4",41:"Dung Hư 5",42:"Dung Hư 6",43:"Dung Hư 7",44:"Dung Hư 8",45:"Dung Hư 9",46:"Ho\xe1 Thần 1",47:"Ho\xe1 Thần 2",48:"Ho\xe1 Thần 3",49:"Ho\xe1 Thần 4",50:"Ho\xe1 Thần 5",51:"Ho\xe1 Thần 6",52:"Ho\xe1 Thần 7",53:"Ho\xe1 Thần 8",54:"Ho\xe1 Thần 9",55:"Hợp Thể 1",56:"Hợp Thể 2",57:"Hợp Thể 3",58:"Hợp Thể 4",59:"Hợp Thể 5",60:"Hợp Thể 6",61:"Hợp Thể 7",62:"Hợp Thể 8",63:"Hợp Thể 9",64:"Độ Kiếp 1",65:"Độ Kiếp 2",66:"Độ Kiếp 3",67:"Độ Kiếp 4",68:"Độ Kiếp 5",69:"Độ Kiếp 6",70:"Độ Kiếp 7",71:"Độ Kiếp 8",72:"Độ Kiếp 9",73:"Đại Thừa 1",74:"Đại Thừa 2",75:"Đại Thừa 3",76:"Đại Thừa 4",77:"Đại Thừa 5",78:"Đại Thừa 6",79:"Đại Thừa 7",80:"Đại Thừa 8",81:"Đại Thừa 9",82:"T\xe1n Ti\xean",83:"Địa Ti\xean",84:"Thi\xean Ti\xean",85:"Ch\xe2n Ti\xean",86:"Huyền Ti\xean",87:"Kim Ti\xean",88:"Thần Nguy\xean",89:"Ti\xean Đế",90:"Đại La Kim Ti\xean",91:"Chuẩn Th\xe1nh",92:"Th\xe1nh Nh\xe2n",93:"Hỗn Nguy\xean Đại La Kim Ti\xean",94:"Tự Tại Hỗn Nguy\xean",95:"Đại Đạo Hỗn Nguy\xean",96:"Đại Đạo Ch\xed Thượng",97:"S\xe1ng Tạo Đạo Giả",98:"S\xe1ng Tạo Ch\xfaa Tể",99:"Chung Nguy\xean Ch\xed Cao"},i={0:0,"-99":0,100:0,1:50,2:100,3:150,4:300,5:400,6:500,7:1e3,8:1200,9:1500,10:2e3,11:2500,12:3e3,13:4e3,14:5e3,15:6e3,16:8e3,17:1e4,18:12e3,19:15e3,20:2e4,21:25e3,22:35e3,23:45e3,24:55e3,25:75e3,26:95e3,27:115e3,28:165e3,29:215e3,30:265e3,31:365e3,32:465e3,33:515e3,34:715e3,35:915e3,36:1115e3,37:1615e3,38:2115e3,39:2615e3,40:3615e3,41:4615e3,42:5615e3,43:7615e3,44:9615e3,45:11615e3,46:16615e3,47:21615e3,48:26615e3,49:36615e3,50:46615e3,51:56615e3,52:76615e3,53:96615e3,54:116615e3,55:166615e3,56:216615e3,57:266615e3,58:366615e3,59:466615e3,60:566615e3,61:766615e3,62:966615e3,63:1166615e3,64:1666615e3,65:2166615e3,66:2666615e3,67:3666615e3,68:4666615e3,69:5666615e3,70:7666615e3,71:9666615e3,72:11666615e3,73:16666615e3,74:21666615e3,75:26666615e3,76:36666615e3,77:46666615e3,78:56666615e3,79:76666615e3,80:96666615e3,81:116666615e3,82:166666615e3,83:216666615e3,84:266666615e3,85:366666615e3,86:466666615e3,87:566666615e3,88:766666615e3,89:966666615e3,90:1166666615e3,91:1666666615e3,92:2166666615e3,93:2666666615e3,94:3666666615e3,95:4666666615e3,96:5666666615e3,97:7666666615e3,98:9666666615e3,99:0xa9c5b84f0d8},o={10:"Tr\xfac Cơ Đan",19:"Kim Đan Đan",28:"Nguy\xean Anh Đan",37:"Dung Hư Đan",46:"Ho\xe1 Thần Đan",55:"Hợp Thể Đan",64:"Độ Kiếp Đan",73:"Đại Thừa Đan"},u={0:"!to-stone-600","-99":"!to-stone-600","-1":"!to-purple-300","-2":"!to-purple-300","-3":"!to-stone-600","-4":"!to-green-600","-5":"!to-sky-600",100:"!to-rose-500",1:"!to-slate-600",2:"!to-slate-600",3:"!to-slate-600",4:"!to-slate-600",5:"!to-slate-600",6:"!to-slate-600",7:"!to-slate-600",8:"!to-slate-600",9:"!to-slate-600",10:"!to-orange-600",11:"!to-orange-600",12:"!to-orange-600",13:"!to-orange-600",14:"!to-orange-600",15:"!to-orange-600",16:"!to-orange-600",17:"!to-orange-600",18:"!to-orange-600",19:"!to-yellow-600",20:"!to-yellow-600",21:"!to-yellow-600",22:"!to-yellow-600",23:"!to-yellow-600",24:"!to-yellow-600",25:"!to-yellow-600",26:"!to-yellow-600",27:"!to-yellow-600",28:"!to-lime-600",29:"!to-lime-600",30:"!to-lime-600",31:"!to-lime-600",32:"!to-lime-600",33:"!to-lime-600",34:"!to-lime-600",35:"!to-lime-600",36:"!to-lime-600",37:"!to-emerald-600",38:"!to-emerald-600",39:"!to-emerald-600",40:"!to-emerald-600",41:"!to-emerald-600",42:"!to-emerald-600",43:"!to-emerald-600",44:"!to-emerald-600",45:"!to-emerald-600",46:"!to-cyan-600",47:"!to-cyan-600",48:"!to-cyan-600",49:"!to-cyan-600",50:"!to-cyan-600",51:"!to-cyan-600",52:"!to-cyan-600",53:"!to-cyan-600",54:"!to-cyan-600",55:"!to-blue-600",56:"!to-blue-600",57:"!to-blue-600",58:"!to-blue-600",59:"!to-blue-600",60:"!to-blue-600",61:"!to-blue-600",62:"!to-blue-600",63:"!to-blue-600",64:"!to-indigo-600",65:"!to-indigo-600",66:"!to-indigo-600",67:"!to-indigo-600",68:"!to-indigo-600",69:"!to-indigo-600",70:"!to-indigo-600",71:"!to-indigo-600",72:"!to-indigo-600",73:"!to-fuchsia-600",74:"!to-fuchsia-600",75:"!to-fuchsia-600",76:"!to-fuchsia-600",77:"!to-fuchsia-600",78:"!to-fuchsia-600",79:"!to-fuchsia-600",80:"!to-fuchsia-600",81:"!to-fuchsia-600"},s={1:1,2:1,3:1,4:1.1,5:1.1,6:1.1,7:1.2,8:1.2,9:1.2,10:2,11:2,12:2,13:2.2,14:2.2,15:2.2,16:2.4,17:2.4,18:2.4,19:4,20:4,21:4,22:4.4,23:4.4,24:4.4,25:4.8,26:4.8,27:4.8,28:8,29:8,30:8,31:8.8,32:8.8,33:8.8,34:9.6,35:9.6,36:9.6,37:16,38:16,39:16,40:17.6,41:17.6,42:17.6,43:19.2,44:19.2,45:19.2,46:32,47:32,48:32,49:35.2,50:35.2,51:35.2,52:38.4,53:38.4,54:38.4,55:64,56:64,57:64,58:70.4,59:70.4,60:70.4,61:76.8,62:76.8,63:76.8,64:128,65:128,66:128,67:140.8,68:140.8,69:140.8,70:153.6,71:153.6,72:153.6,73:256,74:256,75:256,76:281.6,77:281.6,78:281.6,79:307.2,80:307.2,81:307.2,82:512,83:512,84:512,85:563.2,86:563.2,87:563.2,88:614.4,89:614.4,90:614.4,91:675.84,92:675.84,93:675.84,94:743.424,95:743.424,96:743.424,97:817.776,98:817.776,99:817.776},c={1:"Luyện Kh\xed",10:"Tr\xfac Cơ",19:"Kim Đan",28:"Nguy\xean Anh",37:"Dung Hư",46:"Ho\xe1 Thần",55:"Hợp Thể",64:"Độ Kiếp",73:"Đại Thừa",82:"T\xe1n Ti\xean",83:"Địa Ti\xean",84:"Thi\xean Ti\xean",85:"Ch\xe2n Ti\xean",86:"Huyền Ti\xean",87:"Kim Ti\xean",88:"Thần Nguy\xean",89:"Ti\xean Đế",90:"Đại La Kim Ti\xean",91:"Chuẩn Th\xe1nh",92:"Th\xe1nh Nh\xe2n",93:"Hỗn Nguy\xean Đại La Kim Ti\xean",94:"Tự Tại Hỗn Nguy\xean",95:"Đại Đạo Hỗn Nguy\xean",96:"Đại Đạo Ch\xed Thượng",97:"S\xe1ng Tạo Đạo Giả",98:"S\xe1ng Tạo Ch\xfaa Tể",99:"Chung Nguy\xean Ch\xed Cao"},h={1:1,2:10,3:19,4:28,5:37,6:46,7:55,8:64,9:73,10:82,11:83,12:84,13:85,14:86,15:87,16:88,17:89,18:90,19:91,20:92,21:93,22:94,23:95,24:96,25:97,26:98,27:99},d={10:5,19:10,28:25,37:50,46:100,55:200,64:250,73:500},l={1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,10:2,11:2,12:2,13:2,14:2,15:2,16:2,17:2,18:2,19:3,20:3,21:3,22:3,23:3,24:3,25:3,26:3,27:3,28:4,29:4,30:4,31:4,32:4,33:4,34:4,35:4,36:4,37:5,38:5,39:5,40:5,41:5,42:5,43:5,44:5,45:5,46:6,47:6,48:6,49:6,50:6,51:6,52:6,53:6,54:6,55:7,56:7,57:7,58:7,59:7,60:7,61:7,62:7,63:7,64:8,65:8,66:8,67:8,68:8,69:8,70:8,71:8,72:8,73:9,74:9,75:9,76:9,77:9,78:9,79:9,80:9,81:9,82:10,83:11,84:12,85:13,86:14,87:15,88:16,89:17,90:18,91:19,92:20,93:21,94:22,95:23,96:24,97:25,98:26,99:27,100:1}},52581:function(e,t,n){n.d(t,{T_:function(){return f}});var a=n(62737),r=n.n(a),i=n(92448),o=n(39589),u=n(90782),s=n(59772);s.z.number().int().positive(),s.z.number().int().nonnegative();let c="2025-01-21 14:28:37";var h=n(83873);let d={0:"nam",1:"nu"},l=(0,u.mo)([{percent:5,key:"attack"},{percent:5,key:"defense"},{percent:5,key:"speed"},{percent:1,key:"deAttack"},{percent:1,key:"deDefense"},{percent:1,key:"deSpeed"}]);(0,u.mo)([{percent:1,key:"attack"},{percent:5,key:"defense"},{percent:1,key:"speed"},{percent:1,key:"deAttack"},{percent:1,key:"deDefense"},{percent:1,key:"deSpeed"}]);let g={attack:"Tăng Lực Đạo",defense:"Tăng Thể Chất",speed:"Tăng tốc độ",deAttack:"Giảm Lực Đạo",deDefense:"Giảm Thể Chất",deSpeed:"Giảm tốc độ"};class f{baseAtk(){let{attack:e,plusAttack:t}=this.data;return(e+t)*this.ageStatePercent}atk(){let{buffs:e}=this.data,t=this.baseAtk(),n=0;return null==e||e.forEach(e=>{"attack"===e.key&&(n+=t*e.percent/100),"deAttack"===e.key&&(n-=t*e.percent/100)}),Math.round(t+=n)}atkPosible(){let e=this.atk();return this.currentStats.critDamage&&(e=Math.round(e*(1+this.currentStats.critDamage/100))),this.currentStats.damageBoost&&(e=Math.round(e*(1+this.currentStats.damageBoost/100))),e}baseDef(){let{defense:e,plusDefense:t}=this.data;return(e+t)*this.ageStatePercent}def(){let{buffs:e}=this.data,t=this.baseDef(),n=0;return null==e||e.forEach(e=>{"defense"===e.key&&(n+=t*e.percent/100),"deDefense"===e.key&&(n-=t*e.percent/100)}),Math.round(t+=n)}maxHealth(){return Math.round((this.data.health+this.data.plusHealth)*this.ageStatePercent)}isDead(){return this.data.currentHealth<=0}stats(){return this.data.stats}mainItem(){return this.data.mainItem?JSON.parse(this.data.mainItem):null}static age(e){let t=r()(c).isBefore(r()(e))?e:c;return Math.floor(r()().diff(r()(t),"hour")/2)}age(){return f.age(this.data.startAt)}static ageState(e,t){let n=Math.floor(100*f.age(e)/t);return n<10?"trecon":n<18?"thieunien":n<40?"truongthanh":n<70?"trungnien":n<99?"laogia":"haphoi"}ageState(){return f.ageState(this.data.startAt,this.data.maxAge)}static avatarKey(e){return"".concat(d[e.gender],"-").concat(e.coin<0?"tienno":f.ageState(e.startAt,e.maxAge))}static ageStatePercent(e,t){let n=Math.floor(100*f.age(e)/t);return n<10?.7:n<18?1:n<40?1.2:n<70?.8:n<99?.5:.05}static minLevelForMyBlock(e){let t=h.K1[e];return t&&h.Tw[t]||1}static isLimitWeight(e){let{status:t,weight:n}=e;return n>=10*(0,o.IQ)(t)*t*1.1}static isKvct(e){return!!e&&r()().isBefore(e)}isKvct(){return f.isKvct(this.data.watchAdsAt)}static calcPhongAn(e,t){let n=f.rank(t),a=e>n;return{isPhongAn:a,limit:Math.min(a?n:e,e)}}static rank(e){return h.K1[e]||1}rank(){return f.rank(this.data.status)}static isHigherRank(e,t){return(h.K1[e]||1)>(h.K1[t]||1)}isHigherRank(e){return f.isHigherRank(this.data.status,e.data.level)}getCoolDownForBoss(e){var t;if(e.data.isFun)return 10;if(this.isHigherRank(e))return 30;let n=e.data.level,a=0===this.data.currentWeight||this.currentStats.speedBoost>0&&this.data.currentWeight<=this.data.weight*(this.currentStats.speedBoost/200);if(this.rank()!==e.rank())return 10*(e.rank()-this.rank())+(a?0:10);n=(0,i.UT)(n,this);let r=0;return null===(t=this.data.buffs)||void 0===t||t.forEach(e=>{"speed"===e.key&&(r-=n*e.percent/100),"deSpeed"===e.key&&(r+=n*e.percent/100)}),n+=r,a&&(n-=Math.floor((this.data.weight-this.data.currentWeight)/e.coolDownBlock())),n=Math.min(Math.max(n,2),10)}isReadyToAction(e,t){if(!t)return!0;let n=1e3*this.getCoolDownForBoss(e);return r()().diff(t.createdAt,"milliseconds")>=n-100}isPenaltyAbadon(e,t){let n=this.getCoolDownForBoss(e);return r()().diff(t.createdAt,"second")>=n+5}constructor(e){var t=this;this.getRandomBuff=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=Object.keys(g),n=(0,u.pJ)(e);if(!t.includes(n))return null;let a=Math.floor(10*Math.random())+1,r=(0,u.ym)(),i=g[n];return{key:n,label:i,description:"".concat(i," ").concat(r,"% k\xe9o d\xe0i ").concat(a," lượt"),duration:a,percent:r}},this.addBuff=async e=>{let t=this.getRandomBuff(e);return t&&(this.data.buffs=this.data.buffs||[],this.data.buffs.push(t)),t},this.decreaseBuffDuration=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.data.buffs=(t.data.buffs||[]).reduce((t,n)=>{if(0===e.length||e.includes(n.key)){let e=n.duration-1;e>0&&t.push({...n,duration:e})}else t.push(n);return t},[]),t.data.currentBuffs=JSON.stringify(t.data.buffs)},this.data={...e,buffs:JSON.parse(e.currentBuffs||"[]")},this.id=e.id,this.name=e.name,this.status=e.status,this.currentStats=(0,i.NO)(e.stats),this.ageStatePercent=f.ageStatePercent(this.data.startAt,this.data.maxAge)}}},95889:function(e,t,n){n.d(t,{$L:function(){return o},KI:function(){return i}});let a=e=>{let t=Math.floor(e/1e3),n=Math.floor(t/60),a=Math.floor(n/60),r=Math.floor(a/24),i=Math.floor(r/30),o=Math.floor(i/12);return o>0?"".concat(o," năm"):i>0?"".concat(i," th\xe1ng"):r>0?"".concat(r," ng\xe0y"):a>0?"".concat(a," giờ"):n>0?"".concat(n," ph\xfat"):"".concat(t," gi\xe2y")},r=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e instanceof Date?t?new Date(e.toISOString().replace(/T|Z/g," ")):e:new Date(t?e.replace(/T|Z/g," "):e)},i=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=new Date,i=r(e,t),o=n.getTime()-i.getTime();return"".concat(a(o)," trước")},o=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=new Date,i=r(e,t).getTime()-n.getTime();return"".concat(a(i)," nữa")}}}]);